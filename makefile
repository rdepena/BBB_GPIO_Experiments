CC=cc
CFLAGS=-g -Wall
LDFLAGS=
SOURCES=Main.c src/bbbgpio.c
EXECUTABLEDEST=bin
EXECUTABLE=program.o
JSEXECUTABLE=program.js
MONITOREXTENSIONS=c h
MONITORTOOL=nodemon
LIBS=
DEBUGGER=lldb
SYNCTOOL=rsync
SYNCFLAGS = -rav * root@192.168.1.202
BBBFOLDER =/home/root/gpio_lib/

build:
	$(CC) $(CFLAGS) $(SOURCES) $^ $(LIBS) -o $(EXECUTABLEDEST)/$(EXECUTABLE)


clean:
	rm $(EXECUTABLEDEST)/$(EXECUTABLE) $(EXECUTABLEDEST)/$(JSEXECUTABLE)

watch:
	$(MONITORTOOL) --exec "make build && ./$(EXECUTABLEDEST)/$(EXECUTABLE)" -e "$(MONITOREXTENSIONS)"

debug: build
	$(DEBUGGER) $(EXECUTABLEDEST)/$(EXECUTABLE)

sync:build
	$(SYNCTOOL) $(SYNCFLAGS):$(BBBFOLDER)
